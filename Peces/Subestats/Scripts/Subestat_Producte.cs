using System.Collections;
using System.Collections.Generic;
using UnityEngine;

[CreateAssetMenu(menuName = "Xido Studio/Hex/Substat/Producte")]
public class Subestat_Producte : Subestat
{
    //[Apartat("SUBESTAT PRODUCTE")]
    public override Subestat Setup(Peça peça)
    {
        Producte[] productes = Estrategia.Produir(Producte);
        List<Peça.ProducteExtret> productesExtrets = new List<Peça.ProducteExtret>();
        for (int i = 0; i < productes.Length; i++)
        {
            productesExtrets.Add(new Peça.ProducteExtret()
            {
                producte = productes[i],
                gastat = false
            });
        }
        peça.SetProductesExtrets = productesExtrets.ToArray();

        return base.Setup(peça);
    }

    public override bool EsProducte => true;
    /*
        [SerializeField] GameObject uiProducte_prefab;



        List<GameObject> productes;




        public override GameObject[] MostrarInformacio(Peça peça)
        {
            productes = new List<GameObject>();
            //for (int i = 0; i < estrategia.Numero; i++)
            //{
            //    productes.Add(Instantiate(uiProducte_prefab, peça.transform.position + DesplaçamentLateral(i), Quaternion.Euler(0, 0, Rotacio(i)), peça.transform).GetComponent<UI_Producte>().Setup(peça,0));
            //}
            return productes.ToArray();
        }



        Vector3 DesplaçamentLateral(int i) => ((Camera.main.transform.right * (((i + 1) / 2) * 0.5f)) * (i % 2 == 0 ? 1 : -1)) + (Vector3.down * (i * i * 0.025f));
        float Rotacio(int i) => (((i + 1) / 2) * 15f) * (i % 2 == 0 ? -1 : 1);

        new void OnValidate()
        {
            base.OnValidate();
        }
    */
}
